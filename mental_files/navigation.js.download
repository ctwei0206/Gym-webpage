// SAMHSA - Main Drupal behaviors file
(function ($, Drupal) {
  Drupal.behaviors.navigation = {
    attach(context) {
      $(once("navigation", "html", context).forEach(() => {
        (($) => {
          // eslint-disable-next-line max-nested-callbacks
          $(document).ready(() => {
            // LEFT NAV - ADD OUTLINE CLASS TO PARENT <LI> OF FOCUSED <A> >ITEM
            // eslint-disable-next-line max-nested-callbacks
            $("li.usa-sidenav__item a").focus(() => {
              $("li.usa-sidenav__item").removeClass("usa-sidenav__outline");
              $(this).parent().addClass("usa-sidenav__outline");
            });

            // Targeting the main menu of the left sidebar to move the tabbing
            // from the <a> to the <h2>
            $("nav.menu--menu-blockmain h2").attr("tabindex", 0);
            $("nav.menu--menu-blockmain h2 a").attr("tabindex", -1);
          });
        })(jQuery);
      }));
    },
  };
})(jQuery, Drupal);